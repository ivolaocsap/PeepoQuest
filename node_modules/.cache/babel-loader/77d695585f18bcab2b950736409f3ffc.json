{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst Web3 = require(\"web3\");\n\nconst types_1 = require(\"../../types\");\n\nexports.ContractRoleSchema = {\n  version: 1,\n  deploymentBlock: 0,\n  name: 'ContractRole',\n  description: 'Transferrable role on a smart contract.',\n  thumbnail: 'https://i.redditmedia.com/NaFzmSbDX2T2RALMxy2tmGJN_gPVNH9lJggCKUDDqcc.jpg?w=320&s=3913239508209aaf6ba1188fe3d3b5fc',\n  website: 'https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/contracts/ownership/Ownable.sol',\n  fields: [{\n    name: 'Name',\n    type: 'string',\n    description: 'Contract Name'\n  }, {\n    name: 'Description',\n    type: 'string',\n    description: 'Contract Description'\n  }, {\n    name: 'Address',\n    type: 'address',\n    description: 'Contract Address'\n  }, {\n    name: 'RoleGetter',\n    type: 'string',\n    description: 'Name of method to get value of role. Should take no arguments.'\n  }, {\n    name: 'RoleSetter',\n    type: 'string',\n    description: 'Name of method to set value of role. Should take one argument, an address.'\n  }],\n  assetFromFields: fields => ({\n    name: fields.Name,\n    address: fields.Address,\n    description: fields.Description,\n    roleGetter: fields.RoleGetter,\n    roleSetter: fields.RoleSetter\n  }),\n  formatter: asset => __awaiter(this, void 0, void 0, function* () {\n    return {\n      thumbnail: 'https://i.redditmedia.com/NaFzmSbDX2T2RALMxy2tmGJN_gPVNH9lJggCKUDDqcc.jpg?w=320&s=3913239508209aaf6ba1188fe3d3b5fc',\n      title: `Smart Contract Role: ${asset.roleGetter} for ${asset.name}`,\n      description: asset.description || `${asset.roleGetter} for smart contract at ${asset.address}`,\n      url: 'https://etherscan.io/address/' + asset.address,\n      properties: []\n    };\n  }),\n  functions: {\n    transfer: asset => ({\n      type: Web3.AbiType.Function,\n      name: asset.roleSetter,\n      payable: false,\n      constant: false,\n      stateMutability: types_1.StateMutability.Nonpayable,\n      target: asset.address,\n      inputs: [{\n        kind: types_1.FunctionInputKind.Replaceable,\n        name: 'newOwner',\n        type: 'address'\n      }],\n      outputs: []\n    }),\n    ownerOf: asset => ({\n      type: Web3.AbiType.Function,\n      name: asset.roleGetter,\n      payable: false,\n      constant: true,\n      stateMutability: types_1.StateMutability.View,\n      target: asset.address,\n      inputs: [],\n      outputs: [{\n        kind: types_1.FunctionOutputKind.Owner,\n        name: 'owner',\n        type: 'address'\n      }]\n    }),\n    assetsOfOwnerByIndex: []\n  },\n  events: {\n    transfer: []\n  },\n  hash: a => a.address\n};","map":{"version":3,"sources":["../../../src/schemas/ContractRole/index.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Web3 = require(\"web3\");\nconst types_1 = require(\"../../types\");\nexports.ContractRoleSchema = {\n    version: 1,\n    deploymentBlock: 0,\n    name: 'ContractRole',\n    description: 'Transferrable role on a smart contract.',\n    thumbnail: 'https://i.redditmedia.com/NaFzmSbDX2T2RALMxy2tmGJN_gPVNH9lJggCKUDDqcc.jpg?w=320&s=3913239508209aaf6ba1188fe3d3b5fc',\n    website: 'https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/contracts/ownership/Ownable.sol',\n    fields: [\n        { name: 'Name', type: 'string', description: 'Contract Name' },\n        { name: 'Description', type: 'string', description: 'Contract Description' },\n        { name: 'Address', type: 'address', description: 'Contract Address' },\n        { name: 'RoleGetter', type: 'string', description: 'Name of method to get value of role. Should take no arguments.' },\n        { name: 'RoleSetter', type: 'string', description: 'Name of method to set value of role. Should take one argument, an address.' },\n    ],\n    assetFromFields: (fields) => ({\n        name: fields.Name,\n        address: fields.Address,\n        description: fields.Description,\n        roleGetter: fields.RoleGetter,\n        roleSetter: fields.RoleSetter,\n    }),\n    formatter: (asset) => __awaiter(this, void 0, void 0, function* () {\n        return {\n            thumbnail: 'https://i.redditmedia.com/NaFzmSbDX2T2RALMxy2tmGJN_gPVNH9lJggCKUDDqcc.jpg?w=320&s=3913239508209aaf6ba1188fe3d3b5fc',\n            title: `Smart Contract Role: ${asset.roleGetter} for ${asset.name}`,\n            description: asset.description || (`${asset.roleGetter} for smart contract at ${asset.address}`),\n            url: 'https://etherscan.io/address/' + asset.address,\n            properties: [],\n        };\n    }),\n    functions: {\n        transfer: asset => ({\n            type: Web3.AbiType.Function,\n            name: asset.roleSetter,\n            payable: false,\n            constant: false,\n            stateMutability: types_1.StateMutability.Nonpayable,\n            target: asset.address,\n            inputs: [\n                { kind: types_1.FunctionInputKind.Replaceable, name: 'newOwner', type: 'address' },\n            ],\n            outputs: [],\n        }),\n        ownerOf: asset => ({\n            type: Web3.AbiType.Function,\n            name: asset.roleGetter,\n            payable: false,\n            constant: true,\n            stateMutability: types_1.StateMutability.View,\n            target: asset.address,\n            inputs: [],\n            outputs: [\n                { kind: types_1.FunctionOutputKind.Owner, name: 'owner', type: 'address' },\n            ],\n        }),\n        assetsOfOwnerByIndex: [],\n    },\n    events: {\n        transfer: [],\n    },\n    hash: a => a.address,\n};\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}