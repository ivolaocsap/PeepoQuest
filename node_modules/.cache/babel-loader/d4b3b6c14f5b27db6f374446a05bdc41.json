{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/ivopascoal/Desktop/cuffies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useCallback,useEffect}from'react';import{X}from'react-feather';import{useSpring}from'react-spring/web';import styled from'styled-components';import{animated}from'react-spring';import{useRemovePopup}from'../../state/application/hooks';import TransactionPopup from'./TransactionPopup';import ErrorPopup from'./ErrorPopup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var StyledClose=styled(X)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  right: 10px;\\n  top: 10px;\\n  :hover {\\n    cursor: pointer;\\n  }\\n\"])));export var Popup=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  width: 100%;\\n  padding: 1em;\\n  position: relative;\\n  padding: 20px;\\n  padding-right: 35px;\\n  overflow: hidden;\\n  background-color: #303030;\\n  box-shadow: rgba(0, 0, 0, 0.01) 0px 0px 1px, rgba(0, 0, 0, 0.04) 0px 4px 8px,\\n    rgba(0, 0, 0, 0.04) 0px 16px 24px, rgba(0, 0, 0, 0.01) 0px 24px 32px;\\n\\n  @media (max-width: \",\") {\\n    display: block;\\n    min-width: 290px;\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.breakpoints.md;});var Fader=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 0px;\\n  left: 0px;\\n  width: 100%;\\n  height: 2px;\\n  background-color: #303030;\\n\"])));var AnimatedFader=animated(Fader);var PopupItem=function PopupItem(_ref2){var removeAfterMs=_ref2.removeAfterMs,content=_ref2.content,popKey=_ref2.popKey;var removePopup=useRemovePopup();var removeThisPopup=useCallback(function(){return removePopup(popKey);},[popKey,removePopup]);useEffect(function(){if(removeAfterMs===null)return undefined;var timeout=setTimeout(function(){removeThisPopup();},removeAfterMs);return function(){clearTimeout(timeout);};},[removeAfterMs,removeThisPopup]);var popupContent;if('txn'in content){var _content$txn=content.txn,hash=_content$txn.hash,success=_content$txn.success,summary=_content$txn.summary;popupContent=/*#__PURE__*/_jsx(TransactionPopup,{hash:hash,success:success,summary:summary});}if('error'in content){var _content$error=content.error,message=_content$error.message,title=_content$error.title;popupContent=/*#__PURE__*/_jsx(ErrorPopup,{message:message,title:title});}var faderStyle=useSpring({from:{width:'100%'},to:{width:'0%'},config:{duration:removeAfterMs!==null&&removeAfterMs!==void 0?removeAfterMs:undefined}});return/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(StyledClose,{onClick:removeThisPopup,size:16}),popupContent,removeAfterMs!==null?/*#__PURE__*/_jsx(AnimatedFader,{style:faderStyle}):null]});};export default PopupItem;","map":{"version":3,"sources":["/Users/ivopascoal/Desktop/cuffies/src/components/Popups/PopupItem.tsx"],"names":["React","useCallback","useEffect","X","useSpring","styled","animated","useRemovePopup","TransactionPopup","ErrorPopup","StyledClose","Popup","div","theme","breakpoints","md","Fader","AnimatedFader","PopupItem","removeAfterMs","content","popKey","removePopup","removeThisPopup","undefined","timeout","setTimeout","clearTimeout","popupContent","txn","hash","success","summary","error","message","title","faderStyle","from","width","to","config","duration"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect } from 'react';\nimport { X } from 'react-feather';\nimport { useSpring } from 'react-spring/web';\nimport styled from 'styled-components';\nimport { animated } from 'react-spring';\nimport { PopupContent } from '../../state/application/actions';\nimport { useRemovePopup } from '../../state/application/hooks';\nimport TransactionPopup from './TransactionPopup';\nimport ErrorPopup from './ErrorPopup';\n\nexport const StyledClose = styled(X)`\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  :hover {\n    cursor: pointer;\n  }\n`;\nexport const Popup = styled.div`\n  display: inline-block;\n  width: 100%;\n  padding: 1em;\n  position: relative;\n  padding: 20px;\n  padding-right: 35px;\n  overflow: hidden;\n  background-color: #303030;\n  box-shadow: rgba(0, 0, 0, 0.01) 0px 0px 1px, rgba(0, 0, 0, 0.04) 0px 4px 8px,\n    rgba(0, 0, 0, 0.04) 0px 16px 24px, rgba(0, 0, 0, 0.01) 0px 24px 32px;\n\n  @media (max-width: ${({ theme }) => theme.breakpoints.md}) {\n    display: block;\n    min-width: 290px;\n  }\n`;\nconst Fader = styled.div`\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: 100%;\n  height: 2px;\n  background-color: #303030;\n`;\n\nconst AnimatedFader = animated(Fader);\n\ninterface PopupItemProps {\n  removeAfterMs: number | null;\n  content: PopupContent;\n  popKey: string;\n}\n\nconst PopupItem: React.FC<PopupItemProps> = ({ removeAfterMs, content, popKey }) => {\n  const removePopup = useRemovePopup();\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup]);\n  useEffect(() => {\n    if (removeAfterMs === null) return undefined;\n\n    const timeout = setTimeout(() => {\n      removeThisPopup();\n    }, removeAfterMs);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [removeAfterMs, removeThisPopup]);\n\n  let popupContent;\n  if ('txn' in content) {\n    const {\n      txn: { hash, success, summary },\n    } = content;\n    popupContent = <TransactionPopup hash={hash} success={success} summary={summary} />;\n  }\n  if ('error' in content) {\n    const {\n      error: { message, title },\n    } = content;\n    popupContent = <ErrorPopup message={message} title={title} />;\n  }\n\n  const faderStyle = useSpring({\n    from: { width: '100%' },\n    to: { width: '0%' },\n    config: { duration: removeAfterMs ?? undefined },\n  });\n\n  return (\n    <Popup>\n      <StyledClose onClick={removeThisPopup} size={16} />\n      {popupContent}\n      {removeAfterMs !== null ? <AnimatedFader style={faderStyle} /> : null}\n    </Popup>\n  );\n};\n\nexport default PopupItem;\n"]},"metadata":{},"sourceType":"module"}