{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/ivopascoal/Desktop/cuffies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/Users/ivopascoal/Desktop/cuffies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2;import React,{useEffect,useMemo,useState}from'react';import useDiamondHand from'src/hooks/useDiamondHand';import styled from'styled-components';import TokenSymbol from'../TokenSymbol';import icDown from\"../../assets/img/down.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ButtonSelectCollateral=function ButtonSelectCollateral(_ref){var onSelected=_ref.onSelected,tokenAddress=_ref.tokenAddress;var dh=useDiamondHand();var _useState=useState(),_useState2=_slicedToArray(_useState,2),current=_useState2[0],setCurrent=_useState2[1];useEffect(function(){if(!dh||!tokenAddress){return;}setCurrent(dh===null||dh===void 0?void 0:dh.getTokenByAddress(tokenAddress));},[dh,tokenAddress]);var hasMultipleTokens=useMemo(function(){var _dh$getCollateralToke;return(dh===null||dh===void 0?void 0:dh.getCollateralTokens())&&(dh===null||dh===void 0?void 0:(_dh$getCollateralToke=dh.getCollateralTokens())===null||_dh$getCollateralToke===void 0?void 0:_dh$getCollateralToke.length)>0;},[dh]);useEffect(function(){if(onSelected){onSelected(current);}},[current,onSelected]);return/*#__PURE__*/_jsx(StyledButton,{blank:!current,enabled:hasMultipleTokens,children:current?/*#__PURE__*/_jsxs(StyledToken,{children:[/*#__PURE__*/_jsx(TokenSymbol,{size:32,symbol:current===null||current===void 0?void 0:current.symbol}),/*#__PURE__*/_jsx(\"span\",{className:\"symbol\",children:current===null||current===void 0?void 0:current.symbol})]}):/*#__PURE__*/_jsxs(StyledToken,{children:[\"Token\",/*#__PURE__*/_jsx(\"img\",{className:\"down\",src:icDown})]})});};var StyledButton=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 0px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 18px;\\n  font-weight: normal;\\n  border: none;\\n  background-color: transparent;\\n  color: #fff;\\n  margin-right: 10px;\\n\"])));var StyledToken=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  white-space: nowrap;\\n  padding: 5px 0px;\\n  height: 41.2px;\\n  .symbol {\\n    margin-left: 5px;\\n    font-size: 16px;\\n    font-weight: 600;\\n    font-family: \",\";\\n  }\\n  img.down {\\n    margin-left: 5px;\\n  }\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.font.monospace;});export default ButtonSelectCollateral;","map":{"version":3,"sources":["/Users/ivopascoal/Desktop/cuffies/src/components/ButtonSelectCollateral/ButtonSelectCollateral.tsx"],"names":["React","useEffect","useMemo","useState","useDiamondHand","styled","TokenSymbol","ButtonSelectCollateral","onSelected","tokenAddress","dh","current","setCurrent","getTokenByAddress","hasMultipleTokens","getCollateralTokens","length","symbol","icDown","StyledButton","button","StyledToken","div","theme","font","monospace"],"mappings":"qWAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,OAA3B,CAAoCC,QAApC,KAAoD,OAApD,CAEA,MAAOC,CAAAA,cAAP,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,C,sIASA,GAAMC,CAAAA,sBAA6D,CAAG,QAAhEA,CAAAA,sBAAgE,MAGhE,IAFJC,CAAAA,UAEI,MAFJA,UAEI,CADJC,YACI,MADJA,YACI,CACJ,GAAMC,CAAAA,EAAE,CAAGN,cAAc,EAAzB,CACA,cAA8BD,QAAQ,EAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eAEAX,SAAS,CAAC,UAAM,CACd,GAAI,CAACS,EAAD,EAAO,CAACD,YAAZ,CAA0B,CACxB,OACD,CACDG,UAAU,CAACF,EAAD,SAACA,EAAD,iBAACA,EAAE,CAAEG,iBAAJ,CAAsBJ,YAAtB,CAAD,CAAV,CACD,CALQ,CAKN,CAACC,EAAD,CAAKD,YAAL,CALM,CAAT,CAOA,GAAMK,CAAAA,iBAAiB,CAAGZ,OAAO,CAAC,UAAM,2BACtC,MAAO,CAAAQ,EAAE,OAAF,EAAAA,EAAE,SAAF,QAAAA,EAAE,CAAEK,mBAAJ,KAA6B,CAAAL,EAAE,OAAF,EAAAA,EAAE,SAAF,+BAAAA,EAAE,CAAEK,mBAAJ,wEAA2BC,MAA3B,EAAoC,CAAxE,CACD,CAFgC,CAE9B,CAACN,EAAD,CAF8B,CAAjC,CAIAT,SAAS,CAAC,UAAM,CACd,GAAIO,UAAJ,CAAgB,CACdA,UAAU,CAACG,OAAD,CAAV,CACD,CACF,CAJQ,CAIN,CAACA,OAAD,CAAUH,UAAV,CAJM,CAAT,CAMA,mBACE,KAAC,YAAD,EAAc,KAAK,CAAE,CAACG,OAAtB,CAA+B,OAAO,CAAEG,iBAAxC,UACGH,OAAO,cACN,MAAC,WAAD,yBACE,KAAC,WAAD,EAAa,IAAI,CAAE,EAAnB,CAAuB,MAAM,CAAEA,OAAF,SAAEA,OAAF,iBAAEA,OAAO,CAAEM,MAAxC,EADF,cAEE,aAAM,SAAS,CAAC,QAAhB,UAA0BN,OAA1B,SAA0BA,OAA1B,iBAA0BA,OAAO,CAAEM,MAAnC,EAFF,GADM,cAMN,MAAC,WAAD,iCAEE,YAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAEC,MAA3B,EAFF,GAPJ,EADF,CAeD,CAvCD,CAyCA,GAAMC,CAAAA,YAAY,CAAGd,MAAM,CAACe,MAAV,gSAAlB,CAaA,GAAMC,CAAAA,WAAW,CAAGhB,MAAM,CAACiB,GAAV,sUAUE,mBAAGC,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,IAAN,CAAWC,SAA1B,EAVF,CAAjB,CAiBA,cAAelB,CAAAA,sBAAf","sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport ERC20 from 'src/diamondhand/ERC20';\nimport useDiamondHand from 'src/hooks/useDiamondHand';\nimport styled from 'styled-components';\nimport TokenSymbol from '../TokenSymbol';\nimport icDown from '../../assets/img/down.svg';\n\ninterface ButtonSelectCollateralProps {\n  title?: string;\n  onSelected?: (token: ERC20) => void;\n  tokenAddress?: string;\n}\n\nconst ButtonSelectCollateral: React.FC<ButtonSelectCollateralProps> = ({\n  onSelected,\n  tokenAddress,\n}) => {\n  const dh = useDiamondHand();\n  const [current, setCurrent] = useState<ERC20>();\n\n  useEffect(() => {\n    if (!dh || !tokenAddress) {\n      return;\n    }\n    setCurrent(dh?.getTokenByAddress(tokenAddress));\n  }, [dh, tokenAddress]);\n\n  const hasMultipleTokens = useMemo(() => {\n    return dh?.getCollateralTokens() && dh?.getCollateralTokens()?.length > 0;\n  }, [dh]);\n\n  useEffect(() => {\n    if (onSelected) {\n      onSelected(current);\n    }\n  }, [current, onSelected]);\n\n  return (\n    <StyledButton blank={!current} enabled={hasMultipleTokens}>\n      {current ? (\n        <StyledToken>\n          <TokenSymbol size={32} symbol={current?.symbol}></TokenSymbol>\n          <span className=\"symbol\">{current?.symbol}</span>\n        </StyledToken>\n      ) : (\n        <StyledToken>\n          Token\n          <img className=\"down\" src={icDown} />\n        </StyledToken>\n      )}\n    </StyledButton>\n  );\n};\n\nconst StyledButton = styled.button<{ blank?: boolean; enabled?: boolean }>`\n  padding: 0px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: normal;\n  border: none;\n  background-color: transparent;\n  color: #fff;\n  margin-right: 10px;\n`;\n\nconst StyledToken = styled.div`\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  padding: 5px 0px;\n  height: 41.2px;\n  .symbol {\n    margin-left: 5px;\n    font-size: 16px;\n    font-weight: 600;\n    font-family: ${({ theme }) => theme.font.monospace};\n  }\n  img.down {\n    margin-left: 5px;\n  }\n`;\n\nexport default ButtonSelectCollateral;\n"]},"metadata":{},"sourceType":"module"}