{"ast":null,"code":"/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\n/** \n * @file batch.js\n * @author Marek Kotewicz <marek@ethdev.com>\n * @date 2015\n */\nvar Jsonrpc = require('./jsonrpc');\n\nvar errors = require('./errors');\n\nvar Batch = function (web3) {\n  this.requestManager = web3._requestManager;\n  this.requests = [];\n};\n/**\n * Should be called to add create new request to batch request\n *\n * @method add\n * @param {Object} jsonrpc requet object\n */\n\n\nBatch.prototype.add = function (request) {\n  this.requests.push(request);\n};\n/**\n * Should be called to execute batch request\n *\n * @method execute\n */\n\n\nBatch.prototype.execute = function () {\n  var requests = this.requests;\n  this.requestManager.sendBatch(requests, function (err, results) {\n    results = results || [];\n    requests.map(function (request, index) {\n      return results[index] || {};\n    }).forEach(function (result, index) {\n      if (requests[index].callback) {\n        if (!Jsonrpc.isValidResponse(result)) {\n          return requests[index].callback(errors.InvalidResponse(result));\n        }\n\n        requests[index].callback(null, requests[index].format ? requests[index].format(result.result) : result.result);\n      }\n    });\n  });\n};\n\nmodule.exports = Batch;","map":{"version":3,"sources":["/Users/ivopascoal/Desktop/PhysicalNFTs/node_modules/opensea-js/node_modules/web3/lib/web3/batch.js"],"names":["Jsonrpc","require","errors","Batch","web3","requestManager","_requestManager","requests","prototype","add","request","push","execute","sendBatch","err","results","map","index","forEach","result","callback","isValidResponse","InvalidResponse","format","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,WAAD,CAArB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAApB;;AAEA,IAAIE,KAAK,GAAG,UAAUC,IAAV,EAAgB;AACxB,OAAKC,cAAL,GAAsBD,IAAI,CAACE,eAA3B;AACA,OAAKC,QAAL,GAAgB,EAAhB;AACH,CAHD;AAKA;AACA;AACA;AACA;AACA;AACA;;;AACAJ,KAAK,CAACK,SAAN,CAAgBC,GAAhB,GAAsB,UAAUC,OAAV,EAAmB;AACrC,OAAKH,QAAL,CAAcI,IAAd,CAAmBD,OAAnB;AACH,CAFD;AAIA;AACA;AACA;AACA;AACA;;;AACAP,KAAK,CAACK,SAAN,CAAgBI,OAAhB,GAA0B,YAAY;AAClC,MAAIL,QAAQ,GAAG,KAAKA,QAApB;AACA,OAAKF,cAAL,CAAoBQ,SAApB,CAA8BN,QAA9B,EAAwC,UAAUO,GAAV,EAAeC,OAAf,EAAwB;AAC5DA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACAR,IAAAA,QAAQ,CAACS,GAAT,CAAa,UAAUN,OAAV,EAAmBO,KAAnB,EAA0B;AACnC,aAAOF,OAAO,CAACE,KAAD,CAAP,IAAkB,EAAzB;AACH,KAFD,EAEGC,OAFH,CAEW,UAAUC,MAAV,EAAkBF,KAAlB,EAAyB;AAChC,UAAIV,QAAQ,CAACU,KAAD,CAAR,CAAgBG,QAApB,EAA8B;AAE1B,YAAI,CAACpB,OAAO,CAACqB,eAAR,CAAwBF,MAAxB,CAAL,EAAsC;AAClC,iBAAOZ,QAAQ,CAACU,KAAD,CAAR,CAAgBG,QAAhB,CAAyBlB,MAAM,CAACoB,eAAP,CAAuBH,MAAvB,CAAzB,CAAP;AACH;;AAEDZ,QAAAA,QAAQ,CAACU,KAAD,CAAR,CAAgBG,QAAhB,CAAyB,IAAzB,EAAgCb,QAAQ,CAACU,KAAD,CAAR,CAAgBM,MAAhB,GAAyBhB,QAAQ,CAACU,KAAD,CAAR,CAAgBM,MAAhB,CAAuBJ,MAAM,CAACA,MAA9B,CAAzB,GAAiEA,MAAM,CAACA,MAAxG;AACH;AACJ,KAXD;AAYH,GAdD;AAeH,CAjBD;;AAmBAK,MAAM,CAACC,OAAP,GAAiBtB,KAAjB","sourcesContent":["/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/** \n * @file batch.js\n * @author Marek Kotewicz <marek@ethdev.com>\n * @date 2015\n */\n\nvar Jsonrpc = require('./jsonrpc');\nvar errors = require('./errors');\n\nvar Batch = function (web3) {\n    this.requestManager = web3._requestManager;\n    this.requests = [];\n};\n\n/**\n * Should be called to add create new request to batch request\n *\n * @method add\n * @param {Object} jsonrpc requet object\n */\nBatch.prototype.add = function (request) {\n    this.requests.push(request);\n};\n\n/**\n * Should be called to execute batch request\n *\n * @method execute\n */\nBatch.prototype.execute = function () {\n    var requests = this.requests;\n    this.requestManager.sendBatch(requests, function (err, results) {\n        results = results || [];\n        requests.map(function (request, index) {\n            return results[index] || {};\n        }).forEach(function (result, index) {\n            if (requests[index].callback) {\n\n                if (!Jsonrpc.isValidResponse(result)) {\n                    return requests[index].callback(errors.InvalidResponse(result));\n                }\n\n                requests[index].callback(null, (requests[index].format ? requests[index].format(result.result) : result.result));\n            }\n        });\n    }); \n};\n\nmodule.exports = Batch;\n\n"]},"metadata":{},"sourceType":"script"}