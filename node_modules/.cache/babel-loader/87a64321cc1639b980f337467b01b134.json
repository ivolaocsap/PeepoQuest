{"ast":null,"code":"import{createReducer,nanoid}from'@reduxjs/toolkit';import{addPopup,removePopup,toggleWalletModal,toggleSettingsMenu,updateBlockNumber,hideInfoBox,setSlippageTolerance,connectToAccount,disconnectAccount,showInfoBox,acceptTerms,showLoading,hideLoading}from'./actions';export var ConnectorNames;(function(ConnectorNames){ConnectorNames[\"Injected\"]=\"Injected\";ConnectorNames[\"WalletConnect\"]=\"WalletConnect\";ConnectorNames[\"BSC\"]=\"bsc\";})(ConnectorNames||(ConnectorNames={}));export var initialState={blockNumber:{},popupList:[],infoBoxList:{},walletModalOpen:false,settingsMenuOpen:false,slippageTolerance:0.005,account:undefined,acceptedTerms:false,loading:false};export default createReducer(initialState,function(builder){return builder.addCase(updateBlockNumber,function(state,action){var _action$payload=action.payload,chainId=_action$payload.chainId,blockNumber=_action$payload.blockNumber;if(typeof state.blockNumber[chainId]!=='number'){state.blockNumber[chainId]=blockNumber;}else{state.blockNumber[chainId]=Math.max(blockNumber,state.blockNumber[chainId]);}}).addCase(toggleWalletModal,function(state){state.walletModalOpen=!state.walletModalOpen;}).addCase(toggleSettingsMenu,function(state){state.settingsMenuOpen=!state.settingsMenuOpen;}).addCase(addPopup,function(state,_ref){var _ref$payload=_ref.payload,content=_ref$payload.content,key=_ref$payload.key,_ref$payload$removeAf=_ref$payload.removeAfterMs,removeAfterMs=_ref$payload$removeAf===void 0?8000:_ref$payload$removeAf;state.popupList=(key?state.popupList.filter(function(popup){return popup.key!==key;}):state.popupList).concat([{key:key||nanoid(),show:true,content:content,removeAfterMs:removeAfterMs}]);}).addCase(removePopup,function(state,_ref2){var key=_ref2.payload.key;state.popupList.forEach(function(p){if(p.key===key){p.show=false;}});}).addCase(hideInfoBox,function(state,_ref3){var key=_ref3.payload.key;state.infoBoxList[key]=true;}).addCase(showInfoBox,function(state,_ref4){var key=_ref4.payload.key;state.infoBoxList[key]=false;}).addCase(hideLoading,function(state){state.loading=false;}).addCase(showLoading,function(state){state.loading=true;}).addCase(setSlippageTolerance,function(state,_ref5){var slippage=_ref5.payload.slippage;state.slippageTolerance=slippage;}).addCase(connectToAccount,function(state,_ref6){var _ref6$payload=_ref6.payload,account=_ref6$payload.account,connector=_ref6$payload.connector;state.account=account;state.connector=connector;}).addCase(disconnectAccount,function(state){state.account=undefined;state.connector=undefined;}).addCase(acceptTerms,function(state){state.acceptedTerms=true;});});","map":{"version":3,"sources":["/Users/ivopascoal/Desktop/cuffies/src/state/application/reducer.ts"],"names":["createReducer","nanoid","addPopup","removePopup","toggleWalletModal","toggleSettingsMenu","updateBlockNumber","hideInfoBox","setSlippageTolerance","connectToAccount","disconnectAccount","showInfoBox","acceptTerms","showLoading","hideLoading","ConnectorNames","initialState","blockNumber","popupList","infoBoxList","walletModalOpen","settingsMenuOpen","slippageTolerance","account","undefined","acceptedTerms","loading","builder","addCase","state","action","payload","chainId","Math","max","content","key","removeAfterMs","filter","popup","concat","show","forEach","p","slippage","connector"],"mappings":"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","sourcesContent":["import { createReducer, nanoid } from '@reduxjs/toolkit';\nimport {\n  addPopup,\n  PopupContent,\n  removePopup,\n  toggleWalletModal,\n  toggleSettingsMenu,\n  updateBlockNumber,\n  hideInfoBox,\n  setSlippageTolerance,\n  connectToAccount,\n  disconnectAccount,\n  showInfoBox,\n  acceptTerms,\n  showLoading,\n  hideLoading,\n} from './actions';\n\ntype PopupList = Array<{\n  key: string;\n  show: boolean;\n  content: PopupContent;\n  removeAfterMs: number | null;\n}>;\n\ntype InfoBoxList = {\n  [key: string]: boolean;\n};\n\nexport enum ConnectorNames {\n  Injected = 'Injected',\n  WalletConnect = 'WalletConnect',\n  BSC = 'bsc',\n}\nexport interface ApplicationState {\n  blockNumber: { [chainId: number]: number };\n  popupList: PopupList;\n  infoBoxList: InfoBoxList;\n  walletModalOpen: boolean;\n  settingsMenuOpen: boolean;\n  slippageTolerance: number;\n  acceptedTerms: boolean;\n  account: string;\n  connector?: ConnectorNames;\n  loading: boolean;\n}\n\nexport const initialState: ApplicationState = {\n  blockNumber: {},\n  popupList: [],\n  infoBoxList: {},\n  walletModalOpen: false,\n  settingsMenuOpen: false,\n  slippageTolerance: 0.005,\n  account: undefined,\n  acceptedTerms: false,\n  loading: false,\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(updateBlockNumber, (state, action) => {\n      const { chainId, blockNumber } = action.payload;\n      if (typeof state.blockNumber[chainId] !== 'number') {\n        state.blockNumber[chainId] = blockNumber;\n      } else {\n        state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId]);\n      }\n    })\n    .addCase(toggleWalletModal, (state) => {\n      state.walletModalOpen = !state.walletModalOpen;\n    })\n    .addCase(toggleSettingsMenu, (state) => {\n      state.settingsMenuOpen = !state.settingsMenuOpen;\n    })\n    .addCase(addPopup, (state, { payload: { content, key, removeAfterMs = 8000 } }) => {\n      state.popupList = (key\n        ? state.popupList.filter((popup) => popup.key !== key)\n        : state.popupList\n      ).concat([\n        {\n          key: key || nanoid(),\n          show: true,\n          content,\n          removeAfterMs,\n        },\n      ]);\n    })\n    .addCase(removePopup, (state, { payload: { key } }) => {\n      state.popupList.forEach((p) => {\n        if (p.key === key) {\n          p.show = false;\n        }\n      });\n    })\n    .addCase(hideInfoBox, (state, { payload: { key } }) => {\n      state.infoBoxList[key] = true;\n    })\n    .addCase(showInfoBox, (state, { payload: { key } }) => {\n      state.infoBoxList[key] = false;\n    })\n    .addCase(hideLoading, (state) => {\n      state.loading = false;\n    })\n    .addCase(showLoading, (state) => {\n      state.loading = true;\n    })\n    .addCase(setSlippageTolerance, (state, { payload: { slippage } }) => {\n      state.slippageTolerance = slippage;\n    })\n    .addCase(connectToAccount, (state, { payload: { account, connector } }) => {\n      state.account = account;\n      state.connector = connector;\n    })\n    .addCase(disconnectAccount, (state) => {\n      state.account = undefined;\n      state.connector = undefined;\n    })\n    .addCase(acceptTerms, (state) => {\n      state.acceptedTerms = true;\n    }),\n);\n"]},"metadata":{},"sourceType":"module"}