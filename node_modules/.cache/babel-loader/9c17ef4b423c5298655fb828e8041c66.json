{"ast":null,"code":"var _jsxFileName = \"/Users/ivopascoal/Desktop/BabyPepe/src/views/Monitor/Monitor.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box, BoxBody, BoxHeader, BoxTitle } from 'src/components/Box';\nimport Container from 'src/components/Container';\nimport Page from 'src/components/Page';\nimport { useConfiguration } from 'src/contexts/ConfigProvider/ConfigProvider';\nimport useDiamondHand from 'src/hooks/useDiamondHand';\nimport { useCurrentLotto } from 'src/contexts/CurrentLotteryProvider/CurrentLotteryProvider';\nimport useHandleTransactionReceipt from 'src/hooks/useHandleTransactionReceipt';\nimport Input from 'src/components/Input';\nimport NumberDisplay from 'src/components/Number';\nimport { BigNumber } from 'ethers';\nimport Spacer from 'src/components/Spacer';\nimport { formatSecs } from 'src/utils/formatTime';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Monitor = () => {\n  _s();\n\n  const dh = useDiamondHand();\n  const [contracts, setContracts] = useState([]);\n  const config = useConfiguration();\n  const {\n    info,\n    prizes: currentPrizes\n  } = useCurrentLotto();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n  const [startDate, setStartDate] = useState(Math.floor(Date.now() / 1000));\n  const [endDate, setEndDate] = useState(0);\n  const [roundDraw, setRoundDraw] = useState(0);\n  const [data, setData] = useState({});\n  const {\n    deployments\n  } = config;\n  const total = useMemo(() => {\n    if (!currentPrizes || currentPrizes.length == 0) return BigNumber.from(0);\n    let total = currentPrizes[0];\n    total = total.add(currentPrizes[1]);\n    total = total.add(currentPrizes[2]);\n    return total;\n  }, [currentPrizes]);\n  useEffect(() => {\n    if (!deployments || !dh) {\n      return;\n    }\n\n    dh === null || dh === void 0 ? void 0 : dh.getInfo().then(res => {\n      setData(res);\n    });\n    const _contracts = [];\n\n    for (const [name, deployment] of Object.entries(deployments)) {\n      _contracts.push({\n        name,\n        address: deployment.address\n      });\n    }\n\n    setContracts(_contracts);\n  }, [deployments, dh]);\n\n  const manualStart = async () => {\n    try {\n      var _dh$LOTTERY;\n\n      const tx = await handleTransactionReceipt((_dh$LOTTERY = dh.LOTTERY) === null || _dh$LOTTERY === void 0 ? void 0 : _dh$LOTTERY.manualStartLotto(startDate, endDate), `Manual start lottery`);\n\n      if (tx && tx.response) {\n        await tx.response.wait();\n        tx.hideModal();\n      }\n    } catch {//\n    }\n  };\n\n  const drawWinningNumbers = async () => {\n    try {\n      var _dh$LOTTERY2;\n\n      const tx = await handleTransactionReceipt((_dh$LOTTERY2 = dh.LOTTERY) === null || _dh$LOTTERY2 === void 0 ? void 0 : _dh$LOTTERY2.drawWinningNumbers(roundDraw), `Draw winning lottery`);\n\n      if (tx && tx.response) {\n        await tx.response.wait().then(val => console.log(val));\n        tx.hideModal();\n      }\n    } catch {//\n    }\n  };\n\n  const burnPoolRatio = useMemo(() => {\n    if (!(data === null || data === void 0 ? void 0 : data.burnSalsaRatio) || !(data === null || data === void 0 ? void 0 : data.reservePoolRatio)) {\n      return;\n    }\n\n    const total = data === null || data === void 0 ? void 0 : data.burnSalsaRatio.add(data === null || data === void 0 ? void 0 : data.reservePoolRatio);\n    return data === null || data === void 0 ? void 0 : data.burnSalsaRatio.mul(1e6).div(total);\n  }, [data]);\n  const reservePoolRatio = useMemo(() => {\n    if (!(data === null || data === void 0 ? void 0 : data.burnSalsaRatio) || !(data === null || data === void 0 ? void 0 : data.reservePoolRatio)) {\n      return;\n    }\n\n    const total = data === null || data === void 0 ? void 0 : data.burnSalsaRatio.add(data === null || data === void 0 ? void 0 : data.reservePoolRatio);\n    return data === null || data === void 0 ? void 0 : data.reservePoolRatio.mul(1e6).div(total);\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(Page, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      size: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(StyledDoubleCol, {\n        children: [/*#__PURE__*/_jsxDEV(StyledCol, {\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(BoxHeader, {\n              children: /*#__PURE__*/_jsxDEV(BoxTitle, {\n                children: \"Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(BoxBody, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"title\",\n                  children: \"Current round:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"value\",\n                  children: [\" Round \", info === null || info === void 0 ? void 0 : info.lotteryId]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"title\",\n                  children: \"Cost per ticket:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"value\",\n                  children: [/*#__PURE__*/_jsxDEV(NumberDisplay, {\n                    value: data === null || data === void 0 ? void 0 : data.costPerTicket,\n                    decimals: 18,\n                    precision: 0,\n                    keepZeros: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 21\n                  }, this), ' ', \"Salsa\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"title\",\n                  children: \"Prize distribution:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"value\",\n                  children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [\"Jackpot: \", data === null || data === void 0 ? void 0 : data.jackPotDistribution, \"% \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [\"Match 4: \", data === null || data === void 0 ? void 0 : data.matchFourDistribution, \"% \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [\"Match 3: \", data === null || data === void 0 ? void 0 : data.matchThreeDistribution, \"% \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"title\",\n                  children: \"Prize pool:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"value\",\n                  children: [/*#__PURE__*/_jsxDEV(NumberDisplay, {\n                    value: total,\n                    decimals: 18,\n                    precision: 0,\n                    keepZeros: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 21\n                  }, this), ' ', \"Salsa\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"title\",\n                  children: \"Prize reserve pool:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"value\",\n                  children: [/*#__PURE__*/_jsxDEV(NumberDisplay, {\n                    value: data === null || data === void 0 ? void 0 : data.revervePoolBalance,\n                    decimals: 18,\n                    precision: 2,\n                    keepZeros: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 21\n                  }, this), ' ', \"Salsa\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"title\",\n                  children: \"Random Generator Link balance:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"value\",\n                  children: [/*#__PURE__*/_jsxDEV(NumberDisplay, {\n                    value: data === null || data === void 0 ? void 0 : data.randomNumberGeneratorBalance,\n                    decimals: 18,\n                    precision: 8\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 21\n                  }, this), ' ', \"LINK\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"title\",\n                  children: \"Tax rate:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"value\",\n                  children: [data === null || data === void 0 ? void 0 : data.taxRate, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"title\",\n                  children: \"Reserve pool rate:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"value\",\n                  children: [/*#__PURE__*/_jsxDEV(NumberDisplay, {\n                    value: reservePoolRatio,\n                    decimals: 6,\n                    percentage: true,\n                    precision: 2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 21\n                  }, this), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"title\",\n                  children: \"Burn Salsa pool rate:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"value\",\n                  children: [/*#__PURE__*/_jsxDEV(NumberDisplay, {\n                    value: burnPoolRatio,\n                    decimals: 6,\n                    percentage: true,\n                    precision: 2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 21\n                  }, this), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"title\",\n                  children: \"Powerball range:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"value\",\n                  children: data === null || data === void 0 ? void 0 : data.powerBallRange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"title\",\n                  children: \"Max valid range:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"value\",\n                  children: data === null || data === void 0 ? void 0 : data.maxValidRange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledCol, {\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(BoxHeader, {\n              children: /*#__PURE__*/_jsxDEV(BoxTitle, {\n                children: \"Contracts\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(BoxBody, {\n              children: (contracts || []).map(c => /*#__PURE__*/_jsxDEV(BoxListItem, {\n                children: /*#__PURE__*/_jsxDEV(BoxListItemLink, {\n                  target: \"_blank\",\n                  href: `${config.etherscanUrl}/address/${c.address}`,\n                  children: c.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this)\n              }, c.name, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledCol, {\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(BoxHeader, {\n              children: /*#__PURE__*/_jsxDEV(BoxTitle, {\n                children: \"Start New Lottery\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(BoxBody, {\n              children: [/*#__PURE__*/_jsxDEV(Spacer, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(StyledSelectDateWrapper, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"date\",\n                  children: [/*#__PURE__*/_jsxDEV(Input, {\n                    onChange: setStartDate,\n                    value: startDate,\n                    placeholder: \"Enter start date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"helper\",\n                    children: [\"Start date:\", ' ', startDate ? formatSecs(startDate, 'EEEE - dd/MM/yyyy - HH:mm:ss') : '--']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"date\",\n                  children: [/*#__PURE__*/_jsxDEV(Input, {\n                    onChange: setEndDate,\n                    value: endDate,\n                    placeholder: \"Enter end date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"helper\",\n                    children: [\"End date:\", ' ', endDate ? formatSecs(endDate, 'EEEE - dd/MM/yyyy - HH:mm:ss') : '--']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(StyledButtons, {\n                children: /*#__PURE__*/_jsxDEV(StyledButton, {\n                  className: \"btn\",\n                  onClick: manualStart,\n                  children: \"Manual Start\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledCol, {\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(BoxHeader, {\n              children: /*#__PURE__*/_jsxDEV(BoxTitle, {\n                children: \"Draw lottery\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(BoxBody, {\n              children: [/*#__PURE__*/_jsxDEV(StyledInputs, {\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  onChange: val => setRoundDraw(val),\n                  value: roundDraw,\n                  placeholder: \"Enter round number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(StyledButtons, {\n                children: /*#__PURE__*/_jsxDEV(StyledButton, {\n                  className: \"btn\",\n                  onClick: drawWinningNumbers,\n                  children: \"Draw Winning Numbers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Monitor, \"1yvJ46AV0kyEAGktFECEicytB6w=\", false, function () {\n  return [useDiamondHand, useConfiguration, useCurrentLotto, useHandleTransactionReceipt];\n});\n\n_c = Monitor;\nconst StyledDoubleCol = styled.div`\n  margin-top: 40px;\n  display: grid;\n  grid-gap: 20px;\n  justify-items: center;\n  width: 100%;\n  grid-template-columns: repeat(2, 1fr);\n  @media (max-width: 768px) {\n    display: block;\n    margin-top: 12px;\n  }\n  hr {\n    border: 0;\n    border-top: dashed 1px #a2a2a2;\n    background-color: transparent;\n    margin: 15px 0;\n  }\n`;\n_c2 = StyledDoubleCol;\nconst StyledCol = styled.div`\n  width: 100%;\n  height: 100%;\n  font-size: 14px;\n  font-weight: 400;\n  color: #e2e2e2;\n  @media (max-width: 768px) {\n    margin-bottom: 16px;\n  }\n  .item {\n    display: flex;\n  }\n  .title {\n    margin-right: 10px;\n    font-weight: bold;\n  }\n  .value {\n    ul {\n      margin: 0;\n    }\n  }\n`;\n_c3 = StyledCol;\nexport const BoxList = styled.ul`\n  list-style: cirle;\n  padding-left: 18px;\n  margin: 0;\n`;\nexport const BoxListItem = styled.li`\n  margin-bottom: 5px;\n`;\n_c4 = BoxListItem;\nexport const BoxListItemLink = styled.a`\n  cursor: pointer;\n  border: none;\n  padding-left: 0px;\n  text-decoration: none;\n  color: #e2e2e2;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n_c5 = BoxListItemLink;\nexport const BoxItem = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 5px 0;\n`;\nconst StyledButtons = styled.div`\n  align-items: center;\n  padding: 0 15px 10px;\n`;\n_c6 = StyledButtons;\nconst StyledInputs = styled.div`\n  align-items: center;\n  padding: 0 15px 10px;\n  margin-top: 20px;\n`;\n_c7 = StyledInputs;\nconst StyledButton = styled.button`\n  width: 100%;\n  padding: 20px 20px !important;\n  margin-top: 15px;\n`;\n_c8 = StyledButton;\nconst StyledSelectDateWrapper = styled.div`\n  padding: 0 15px 10px;\n  .date {\n    &:first-child {\n      margin-bottom: 20px;\n    }\n    flex: 1;\n    .helper {\n      font-size: 13px;\n      padding-left: 15px;\n      padding-top: 3px;\n    }\n  }\n`;\n_c9 = StyledSelectDateWrapper;\nexport default Monitor;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"Monitor\");\n$RefreshReg$(_c2, \"StyledDoubleCol\");\n$RefreshReg$(_c3, \"StyledCol\");\n$RefreshReg$(_c4, \"BoxListItem\");\n$RefreshReg$(_c5, \"BoxListItemLink\");\n$RefreshReg$(_c6, \"StyledButtons\");\n$RefreshReg$(_c7, \"StyledInputs\");\n$RefreshReg$(_c8, \"StyledButton\");\n$RefreshReg$(_c9, \"StyledSelectDateWrapper\");","map":{"version":3,"sources":["/Users/ivopascoal/Desktop/BabyPepe/src/views/Monitor/Monitor.tsx"],"names":["React","useEffect","useMemo","useState","styled","Box","BoxBody","BoxHeader","BoxTitle","Container","Page","useConfiguration","useDiamondHand","useCurrentLotto","useHandleTransactionReceipt","Input","NumberDisplay","BigNumber","Spacer","formatSecs","Monitor","dh","contracts","setContracts","config","info","prizes","currentPrizes","handleTransactionReceipt","startDate","setStartDate","Math","floor","Date","now","endDate","setEndDate","roundDraw","setRoundDraw","data","setData","deployments","total","length","from","add","getInfo","then","res","_contracts","name","deployment","Object","entries","push","address","manualStart","tx","LOTTERY","manualStartLotto","response","wait","hideModal","drawWinningNumbers","val","console","log","burnPoolRatio","burnSalsaRatio","reservePoolRatio","mul","div","lotteryId","costPerTicket","jackPotDistribution","matchFourDistribution","matchThreeDistribution","revervePoolBalance","randomNumberGeneratorBalance","taxRate","powerBallRange","maxValidRange","map","c","etherscanUrl","StyledDoubleCol","StyledCol","BoxList","ul","BoxListItem","li","BoxListItemLink","a","BoxItem","StyledButtons","StyledInputs","StyledButton","button","StyledSelectDateWrapper"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,QAApC,QAAoD,OAApD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,GAAT,EAAcC,OAAd,EAAuBC,SAAvB,EAAkCC,QAAlC,QAAkD,oBAAlD;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,SAASC,gBAAT,QAAiC,4CAAjC;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,SAASC,eAAT,QAAgC,4DAAhC;AACA,OAAOC,2BAAP,MAAwC,uCAAxC;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,aAAP,MAA0B,uBAA1B;AAEA,SAASC,SAAT,QAA0B,QAA1B;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,SAASC,UAAT,QAA2B,sBAA3B;;;AAOA,MAAMC,OAAiB,GAAG,MAAM;AAAA;;AAC9B,QAAMC,EAAE,GAAGT,cAAc,EAAzB;AACA,QAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BpB,QAAQ,CAAiB,EAAjB,CAA1C;AACA,QAAMqB,MAAM,GAAGb,gBAAgB,EAA/B;AACA,QAAM;AAAEc,IAAAA,IAAF;AAAQC,IAAAA,MAAM,EAAEC;AAAhB,MAAkCd,eAAe,EAAvD;AACA,QAAMe,wBAAwB,GAAGd,2BAA2B,EAA5D;AACA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4B3B,QAAQ,CAAS4B,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,KAAa,IAAxB,CAAT,CAA1C;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBjC,QAAQ,CAAS,CAAT,CAAtC;AACA,QAAM,CAACkC,SAAD,EAAYC,YAAZ,IAA4BnC,QAAQ,CAAS,CAAT,CAA1C;AACA,QAAM,CAACoC,IAAD,EAAOC,OAAP,IAAkBrC,QAAQ,CAAoB,EAApB,CAAhC;AACA,QAAM;AAAEsC,IAAAA;AAAF,MAAkBjB,MAAxB;AAEA,QAAMkB,KAAK,GAAGxC,OAAO,CAAC,MAAM;AAC1B,QAAI,CAACyB,aAAD,IAAkBA,aAAa,CAACgB,MAAd,IAAwB,CAA9C,EAAiD,OAAO1B,SAAS,CAAC2B,IAAV,CAAe,CAAf,CAAP;AACjD,QAAIF,KAAK,GAAGf,aAAa,CAAC,CAAD,CAAzB;AACAe,IAAAA,KAAK,GAAGA,KAAK,CAACG,GAAN,CAAUlB,aAAa,CAAC,CAAD,CAAvB,CAAR;AACAe,IAAAA,KAAK,GAAGA,KAAK,CAACG,GAAN,CAAUlB,aAAa,CAAC,CAAD,CAAvB,CAAR;AACA,WAAOe,KAAP;AACD,GANoB,EAMlB,CAACf,aAAD,CANkB,CAArB;AAQA1B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACwC,WAAD,IAAgB,CAACpB,EAArB,EAAyB;AACvB;AACD;;AACDA,IAAAA,EAAE,SAAF,IAAAA,EAAE,WAAF,YAAAA,EAAE,CAAEyB,OAAJ,GAAcC,IAAd,CAAoBC,GAAD,IAAS;AAC1BR,MAAAA,OAAO,CAACQ,GAAD,CAAP;AACD,KAFD;AAGA,UAAMC,UAA0B,GAAG,EAAnC;;AACA,SAAK,MAAM,CAACC,IAAD,EAAOC,UAAP,CAAX,IAAiCC,MAAM,CAACC,OAAP,CAAeZ,WAAf,CAAjC,EAA8D;AAC5DQ,MAAAA,UAAU,CAACK,IAAX,CAAgB;AACdJ,QAAAA,IADc;AAEdK,QAAAA,OAAO,EAAEJ,UAAU,CAACI;AAFN,OAAhB;AAID;;AACDhC,IAAAA,YAAY,CAAC0B,UAAD,CAAZ;AACD,GAfQ,EAeN,CAACR,WAAD,EAAcpB,EAAd,CAfM,CAAT;;AAiBA,QAAMmC,WAAW,GAAG,YAAY;AAC9B,QAAI;AAAA;;AACF,YAAMC,EAAE,GAAG,MAAM7B,wBAAwB,gBACvCP,EAAE,CAACqC,OADoC,gDACvC,YAAYC,gBAAZ,CAA6B9B,SAA7B,EAAwCM,OAAxC,CADuC,EAEtC,sBAFsC,CAAzC;;AAIA,UAAIsB,EAAE,IAAIA,EAAE,CAACG,QAAb,EAAuB;AACrB,cAAMH,EAAE,CAACG,QAAH,CAAYC,IAAZ,EAAN;AACAJ,QAAAA,EAAE,CAACK,SAAH;AACD;AACF,KATD,CASE,MAAM,CACN;AACD;AACF,GAbD;;AAeA,QAAMC,kBAAkB,GAAG,YAAY;AACrC,QAAI;AAAA;;AACF,YAAMN,EAAE,GAAG,MAAM7B,wBAAwB,iBACvCP,EAAE,CAACqC,OADoC,iDACvC,aAAYK,kBAAZ,CAA+B1B,SAA/B,CADuC,EAEtC,sBAFsC,CAAzC;;AAIA,UAAIoB,EAAE,IAAIA,EAAE,CAACG,QAAb,EAAuB;AACrB,cAAMH,EAAE,CAACG,QAAH,CAAYC,IAAZ,GAAmBd,IAAnB,CAAyBiB,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAjC,CAAN;AACAP,QAAAA,EAAE,CAACK,SAAH;AACD;AACF,KATD,CASE,MAAM,CACN;AACD;AACF,GAbD;;AAeA,QAAMK,aAAa,GAAGjE,OAAO,CAAC,MAAM;AAClC,QAAI,EAACqC,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAE6B,cAAP,KAAyB,EAAC7B,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAE8B,gBAAP,CAA7B,EAAsD;AACpD;AACD;;AACD,UAAM3B,KAAK,GAAGH,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAE6B,cAAN,CAAqBvB,GAArB,CAAyBN,IAAzB,aAAyBA,IAAzB,uBAAyBA,IAAI,CAAE8B,gBAA/B,CAAd;AACA,WAAO9B,IAAP,aAAOA,IAAP,uBAAOA,IAAI,CAAE6B,cAAN,CAAqBE,GAArB,CAAyB,GAAzB,EAA8BC,GAA9B,CAAkC7B,KAAlC,CAAP;AACD,GAN4B,EAM1B,CAACH,IAAD,CAN0B,CAA7B;AAQA,QAAM8B,gBAAgB,GAAGnE,OAAO,CAAC,MAAM;AACrC,QAAI,EAACqC,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAE6B,cAAP,KAAyB,EAAC7B,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAE8B,gBAAP,CAA7B,EAAsD;AACpD;AACD;;AACD,UAAM3B,KAAK,GAAGH,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAE6B,cAAN,CAAqBvB,GAArB,CAAyBN,IAAzB,aAAyBA,IAAzB,uBAAyBA,IAAI,CAAE8B,gBAA/B,CAAd;AACA,WAAO9B,IAAP,aAAOA,IAAP,uBAAOA,IAAI,CAAE8B,gBAAN,CAAuBC,GAAvB,CAA2B,GAA3B,EAAgCC,GAAhC,CAAoC7B,KAApC,CAAP;AACD,GAN+B,EAM7B,CAACH,IAAD,CAN6B,CAAhC;AAQA,sBACE,QAAC,IAAD;AAAA,2BACE,QAAC,SAAD;AAAW,MAAA,IAAI,EAAC,IAAhB;AAAA,6BACE,QAAC,eAAD;AAAA,gCACE,QAAC,SAAD;AAAA,iCACE,QAAC,GAAD;AAAA,oCACE,QAAC,SAAD;AAAA,qCACE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,OAAD;AAAA,sCACE;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA,wCAA+Bd,IAA/B,aAA+BA,IAA/B,uBAA+BA,IAAI,CAAE+C,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAKE;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA,0CACE,QAAC,aAAD;AACE,oBAAA,KAAK,EAAEjC,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEkC,aADf;AAEE,oBAAA,QAAQ,EAAE,EAFZ;AAGE,oBAAA,SAAS,EAAE,CAHb;AAIE,oBAAA,SAAS,EAAE;AAJb;AAAA;AAAA;AAAA;AAAA,0BADF,EAMK,GANL;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,eAiBE;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA,yCACE;AAAA,4CACE;AAAA,8CAAclC,IAAd,aAAcA,IAAd,uBAAcA,IAAI,CAAEmC,mBAApB;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEE;AAAA,8CAAcnC,IAAd,aAAcA,IAAd,uBAAcA,IAAI,CAAEoC,qBAApB;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFF,eAGE;AAAA,8CAAcpC,IAAd,aAAcA,IAAd,uBAAcA,IAAI,CAAEqC,sBAApB;AAAA;AAAA;AAAA;AAAA;AAAA,4BAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAjBF,eA2BE;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA,0CACE,QAAC,aAAD;AAAe,oBAAA,KAAK,EAAElC,KAAtB;AAA6B,oBAAA,QAAQ,EAAE,EAAvC;AAA2C,oBAAA,SAAS,EAAE,CAAtD;AAAyD,oBAAA,SAAS,EAAE;AAApE;AAAA;AAAA;AAAA;AAAA,0BADF,EAC+E,GAD/E;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBA3BF,eAkCE;AAAA;AAAA;AAAA;AAAA,sBAlCF,eAmCE;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA,0CACE,QAAC,aAAD;AACE,oBAAA,KAAK,EAAEH,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEsC,kBADf;AAEE,oBAAA,QAAQ,EAAE,EAFZ;AAGE,oBAAA,SAAS,EAAE,CAHb;AAIE,oBAAA,SAAS,EAAE;AAJb;AAAA;AAAA;AAAA;AAAA,0BADF,EAMK,GANL;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAnCF,eA+CE;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA,0CACE,QAAC,aAAD;AACE,oBAAA,KAAK,EAAEtC,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEuC,4BADf;AAEE,oBAAA,QAAQ,EAAE,EAFZ;AAGE,oBAAA,SAAS,EAAE;AAHb;AAAA;AAAA;AAAA;AAAA,0BADF,EAKK,GALL;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBA/CF,eA0DE;AAAA;AAAA;AAAA;AAAA,sBA1DF,eA2DE;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA,6BAAwBvC,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAEwC,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBA3DF,eA+DE;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA,0CACE,QAAC,aAAD;AACE,oBAAA,KAAK,EAAEV,gBADT;AAEE,oBAAA,QAAQ,EAAE,CAFZ;AAGE,oBAAA,UAAU,EAAE,IAHd;AAIE,oBAAA,SAAS,EAAE;AAJb;AAAA;AAAA;AAAA;AAAA,0BADF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBA/DF,eA2EE;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA,0CACE,QAAC,aAAD;AACE,oBAAA,KAAK,EAAEF,aADT;AAEE,oBAAA,QAAQ,EAAE,CAFZ;AAGE,oBAAA,UAAU,EAAE,IAHd;AAIE,oBAAA,SAAS,EAAE;AAJb;AAAA;AAAA;AAAA;AAAA,0BADF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBA3EF,eAuFE;AAAA;AAAA;AAAA;AAAA,sBAvFF,eAwFE;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA,4BAAwB5B,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAEyC;AAA9B;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxFF,eA4FE;AAAK,gBAAA,SAAS,EAAC,MAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAK,kBAAA,SAAS,EAAC,OAAf;AAAA,4BAAwBzC,IAAxB,aAAwBA,IAAxB,uBAAwBA,IAAI,CAAE0C;AAA9B;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBA5FF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eA0GE,QAAC,SAAD;AAAA,iCACE,QAAC,GAAD;AAAA,oCACE,QAAC,SAAD;AAAA,qCACE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,OAAD;AAAA,wBACG,CAAC3D,SAAS,IAAI,EAAd,EAAkB4D,GAAlB,CAAuBC,CAAD,iBACrB,QAAC,WAAD;AAAA,uCACE,QAAC,eAAD;AACE,kBAAA,MAAM,EAAC,QADT;AAEE,kBAAA,IAAI,EAAG,GAAE3D,MAAM,CAAC4D,YAAa,YAAWD,CAAC,CAAC5B,OAAQ,EAFpD;AAAA,4BAIG4B,CAAC,CAACjC;AAJL;AAAA;AAAA;AAAA;AAAA;AADF,iBAAkBiC,CAAC,CAACjC,IAApB;AAAA;AAAA;AAAA;AAAA,sBADD;AADH;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBA1GF,eA6HE,QAAC,SAAD;AAAA,iCACE,QAAC,GAAD;AAAA,oCACE,QAAC,SAAD;AAAA,qCACE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,OAAD;AAAA,sCACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,uBAAD;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,MAAf;AAAA,0CACE,QAAC,KAAD;AACE,oBAAA,QAAQ,EAAEpB,YADZ;AAEE,oBAAA,KAAK,EAAED,SAFT;AAGE,oBAAA,WAAW,EAAC;AAHd;AAAA;AAAA;AAAA;AAAA,0BADF,eAME;AAAK,oBAAA,SAAS,EAAC,QAAf;AAAA,8CACc,GADd,EAEGA,SAAS,GAAGV,UAAU,CAACU,SAAD,EAAY,8BAAZ,CAAb,GAA2D,IAFvE;AAAA;AAAA;AAAA;AAAA;AAAA,0BANF;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAYE;AAAK,kBAAA,SAAS,EAAC,MAAf;AAAA,0CACE,QAAC,KAAD;AAAO,oBAAA,QAAQ,EAAEO,UAAjB;AAA6B,oBAAA,KAAK,EAAED,OAApC;AAA6C,oBAAA,WAAW,EAAC;AAAzD;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAK,oBAAA,SAAS,EAAC,QAAf;AAAA,4CACY,GADZ,EAEGA,OAAO,GAAGhB,UAAU,CAACgB,OAAD,EAAU,8BAAV,CAAb,GAAyD,IAFnE;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,wBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAsBE,QAAC,aAAD;AAAA,uCACE,QAAC,YAAD;AAAc,kBAAA,SAAS,EAAC,KAAxB;AAA8B,kBAAA,OAAO,EAAEqB,WAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAtBF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBA7HF,eAgKE,QAAC,SAAD;AAAA,iCACE,QAAC,GAAD;AAAA,oCACE,QAAC,SAAD;AAAA,qCACE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,OAAD;AAAA,sCACE,QAAC,YAAD;AAAA,uCACE,QAAC,KAAD;AACE,kBAAA,QAAQ,EAAGQ,GAAD,IAAS1B,YAAY,CAAC0B,GAAD,CADjC;AAEE,kBAAA,KAAK,EAAE3B,SAFT;AAGE,kBAAA,WAAW,EAAC;AAHd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAQE,QAAC,aAAD;AAAA,uCACE,QAAC,YAAD;AAAc,kBAAA,SAAS,EAAC,KAAxB;AAA8B,kBAAA,OAAO,EAAE0B,kBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBARF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAhKF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA4LD,CA/QD;;GAAM3C,O;UACOR,c,EAEID,gB,EACyBE,e,EACPC,2B;;;KAL7BM,O;AAiRN,MAAMiE,eAAe,GAAGjF,MAAM,CAACmE,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAjBA;MAAMc,e;AAmBN,MAAMC,SAAS,GAAGlF,MAAM,CAACmE,GAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CArBA;MAAMe,S;AAuBN,OAAO,MAAMC,OAAO,GAAGnF,MAAM,CAACoF,EAAG;AACjC;AACA;AACA;AACA,CAJO;AAKP,OAAO,MAAMC,WAAW,GAAGrF,MAAM,CAACsF,EAAG;AACrC;AACA,CAFO;MAAMD,W;AAGb,OAAO,MAAME,eAAe,GAAGvF,MAAM,CAACwF,CAAE;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CATO;MAAMD,e;AAWb,OAAO,MAAME,OAAO,GAAGzF,MAAM,CAACmE,GAAI;AAClC;AACA;AACA;AACA,CAJO;AAMP,MAAMuB,aAAa,GAAG1F,MAAM,CAACmE,GAAI;AACjC;AACA;AACA,CAHA;MAAMuB,a;AAKN,MAAMC,YAAY,GAAG3F,MAAM,CAACmE,GAAI;AAChC;AACA;AACA;AACA,CAJA;MAAMwB,Y;AAMN,MAAMC,YAAY,GAAG5F,MAAM,CAAC6F,MAAO;AACnC;AACA;AACA;AACA,CAJA;MAAMD,Y;AAMN,MAAME,uBAAuB,GAAG9F,MAAM,CAACmE,GAAI;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAbA;MAAM2B,uB;AAeN,eAAe9E,OAAf","sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box, BoxBody, BoxHeader, BoxTitle } from 'src/components/Box';\nimport Container from 'src/components/Container';\nimport Page from 'src/components/Page';\nimport { useConfiguration } from 'src/contexts/ConfigProvider/ConfigProvider';\nimport useDiamondHand from 'src/hooks/useDiamondHand';\nimport { useCurrentLotto } from 'src/contexts/CurrentLotteryProvider/CurrentLotteryProvider';\nimport useHandleTransactionReceipt from 'src/hooks/useHandleTransactionReceipt';\nimport Input from 'src/components/Input';\nimport NumberDisplay from 'src/components/Number';\nimport { ConfigurationInfo } from 'src/diamondhand/types';\nimport { BigNumber } from 'ethers';\nimport Spacer from 'src/components/Spacer';\nimport { formatSecs } from 'src/utils/formatTime';\n\ninterface ContractLink {\n  name: string;\n  address: string;\n}\n\nconst Monitor: React.FC = () => {\n  const dh = useDiamondHand();\n  const [contracts, setContracts] = useState<ContractLink[]>([]);\n  const config = useConfiguration();\n  const { info, prizes: currentPrizes } = useCurrentLotto();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n  const [startDate, setStartDate] = useState<number>(Math.floor(Date.now() / 1000));\n  const [endDate, setEndDate] = useState<number>(0);\n  const [roundDraw, setRoundDraw] = useState<number>(0);\n  const [data, setData] = useState<ConfigurationInfo>({} as ConfigurationInfo);\n  const { deployments } = config;\n\n  const total = useMemo(() => {\n    if (!currentPrizes || currentPrizes.length == 0) return BigNumber.from(0);\n    let total = currentPrizes[0];\n    total = total.add(currentPrizes[1]);\n    total = total.add(currentPrizes[2]);\n    return total;\n  }, [currentPrizes]);\n\n  useEffect(() => {\n    if (!deployments || !dh) {\n      return;\n    }\n    dh?.getInfo().then((res) => {\n      setData(res);\n    });\n    const _contracts: ContractLink[] = [];\n    for (const [name, deployment] of Object.entries(deployments)) {\n      _contracts.push({\n        name,\n        address: deployment.address,\n      });\n    }\n    setContracts(_contracts);\n  }, [deployments, dh]);\n\n  const manualStart = async () => {\n    try {\n      const tx = await handleTransactionReceipt(\n        dh.LOTTERY?.manualStartLotto(startDate, endDate),\n        `Manual start lottery`,\n      );\n      if (tx && tx.response) {\n        await tx.response.wait();\n        tx.hideModal();\n      }\n    } catch {\n      //\n    }\n  };\n\n  const drawWinningNumbers = async () => {\n    try {\n      const tx = await handleTransactionReceipt(\n        dh.LOTTERY?.drawWinningNumbers(roundDraw),\n        `Draw winning lottery`,\n      );\n      if (tx && tx.response) {\n        await tx.response.wait().then((val) => console.log(val));\n        tx.hideModal();\n      }\n    } catch {\n      //\n    }\n  };\n\n  const burnPoolRatio = useMemo(() => {\n    if (!data?.burnSalsaRatio || !data?.reservePoolRatio) {\n      return;\n    }\n    const total = data?.burnSalsaRatio.add(data?.reservePoolRatio);\n    return data?.burnSalsaRatio.mul(1e6).div(total);\n  }, [data]);\n\n  const reservePoolRatio = useMemo(() => {\n    if (!data?.burnSalsaRatio || !data?.reservePoolRatio) {\n      return;\n    }\n    const total = data?.burnSalsaRatio.add(data?.reservePoolRatio);\n    return data?.reservePoolRatio.mul(1e6).div(total);\n  }, [data]);\n\n  return (\n    <Page>\n      <Container size=\"lg\">\n        <StyledDoubleCol>\n          <StyledCol>\n            <Box>\n              <BoxHeader>\n                <BoxTitle>Information</BoxTitle>\n              </BoxHeader>\n              <BoxBody>\n                <div className=\"item\">\n                  <div className=\"title\">Current round:</div>\n                  <div className=\"value\"> Round {info?.lotteryId}</div>\n                </div>\n                <div className=\"item\">\n                  <div className=\"title\">Cost per ticket:</div>\n                  <div className=\"value\">\n                    <NumberDisplay\n                      value={data?.costPerTicket}\n                      decimals={18}\n                      precision={0}\n                      keepZeros={true}\n                    />{' '}\n                    Salsa\n                  </div>\n                </div>\n                <div>\n                  <div className=\"title\">Prize distribution:</div>\n                  <div className=\"value\">\n                    <ul>\n                      <li>Jackpot: {data?.jackPotDistribution}% </li>\n                      <li>Match 4: {data?.matchFourDistribution}% </li>\n                      <li>Match 3: {data?.matchThreeDistribution}% </li>\n                    </ul>\n                  </div>\n                </div>\n                <div className=\"item\">\n                  <div className=\"title\">Prize pool:</div>\n                  <div className=\"value\">\n                    <NumberDisplay value={total} decimals={18} precision={0} keepZeros={true} />{' '}\n                    Salsa\n                  </div>\n                </div>\n                <hr />\n                <div className=\"item\">\n                  <div className=\"title\">Prize reserve pool:</div>\n                  <div className=\"value\">\n                    <NumberDisplay\n                      value={data?.revervePoolBalance}\n                      decimals={18}\n                      precision={2}\n                      keepZeros={true}\n                    />{' '}\n                    Salsa\n                  </div>\n                </div>\n                <div className=\"item\">\n                  <div className=\"title\">Random Generator Link balance:</div>\n                  <div className=\"value\">\n                    <NumberDisplay\n                      value={data?.randomNumberGeneratorBalance}\n                      decimals={18}\n                      precision={8}\n                    />{' '}\n                    LINK\n                  </div>\n                </div>\n                <hr />\n                <div className=\"item\">\n                  <div className=\"title\">Tax rate:</div>\n                  <div className=\"value\">{data?.taxRate}%</div>\n                </div>\n                <div className=\"item\">\n                  <div className=\"title\">Reserve pool rate:</div>\n                  <div className=\"value\">\n                    <NumberDisplay\n                      value={reservePoolRatio}\n                      decimals={6}\n                      percentage={true}\n                      precision={2}\n                    />\n                    %\n                  </div>\n                </div>\n                <div className=\"item\">\n                  <div className=\"title\">Burn Salsa pool rate:</div>\n                  <div className=\"value\">\n                    <NumberDisplay\n                      value={burnPoolRatio}\n                      decimals={6}\n                      percentage={true}\n                      precision={2}\n                    />\n                    %\n                  </div>\n                </div>\n                <hr />\n                <div className=\"item\">\n                  <div className=\"title\">Powerball range:</div>\n                  <div className=\"value\">{data?.powerBallRange}</div>\n                </div>\n                <div className=\"item\">\n                  <div className=\"title\">Max valid range:</div>\n                  <div className=\"value\">{data?.maxValidRange}</div>\n                </div>\n              </BoxBody>\n            </Box>\n          </StyledCol>\n\n          <StyledCol>\n            <Box>\n              <BoxHeader>\n                <BoxTitle>Contracts</BoxTitle>\n              </BoxHeader>\n              <BoxBody>\n                {(contracts || []).map((c) => (\n                  <BoxListItem key={c.name}>\n                    <BoxListItemLink\n                      target=\"_blank\"\n                      href={`${config.etherscanUrl}/address/${c.address}`}\n                    >\n                      {c.name}\n                    </BoxListItemLink>\n                  </BoxListItem>\n                ))}\n              </BoxBody>\n            </Box>\n          </StyledCol>\n          <StyledCol>\n            <Box>\n              <BoxHeader>\n                <BoxTitle>Start New Lottery</BoxTitle>\n              </BoxHeader>\n              <BoxBody>\n                <Spacer />\n                <StyledSelectDateWrapper>\n                  <div className=\"date\">\n                    <Input\n                      onChange={setStartDate}\n                      value={startDate}\n                      placeholder=\"Enter start date\"\n                    />\n                    <div className=\"helper\">\n                      Start date:{' '}\n                      {startDate ? formatSecs(startDate, 'EEEE - dd/MM/yyyy - HH:mm:ss') : '--'}\n                    </div>\n                  </div>\n                  <div className=\"date\">\n                    <Input onChange={setEndDate} value={endDate} placeholder=\"Enter end date\" />\n                    <div className=\"helper\">\n                      End date:{' '}\n                      {endDate ? formatSecs(endDate, 'EEEE - dd/MM/yyyy - HH:mm:ss') : '--'}\n                    </div>\n                  </div>\n                </StyledSelectDateWrapper>\n                <StyledButtons>\n                  <StyledButton className=\"btn\" onClick={manualStart}>\n                    Manual Start\n                  </StyledButton>\n                </StyledButtons>\n              </BoxBody>\n            </Box>\n          </StyledCol>\n          <StyledCol>\n            <Box>\n              <BoxHeader>\n                <BoxTitle>Draw lottery</BoxTitle>\n              </BoxHeader>\n              <BoxBody>\n                <StyledInputs>\n                  <Input\n                    onChange={(val) => setRoundDraw(val)}\n                    value={roundDraw}\n                    placeholder=\"Enter round number\"\n                  />\n                </StyledInputs>\n                <StyledButtons>\n                  <StyledButton className=\"btn\" onClick={drawWinningNumbers}>\n                    Draw Winning Numbers\n                  </StyledButton>\n                </StyledButtons>\n              </BoxBody>\n            </Box>\n          </StyledCol>\n        </StyledDoubleCol>\n      </Container>\n    </Page>\n  );\n};\n\nconst StyledDoubleCol = styled.div`\n  margin-top: 40px;\n  display: grid;\n  grid-gap: 20px;\n  justify-items: center;\n  width: 100%;\n  grid-template-columns: repeat(2, 1fr);\n  @media (max-width: 768px) {\n    display: block;\n    margin-top: 12px;\n  }\n  hr {\n    border: 0;\n    border-top: dashed 1px #a2a2a2;\n    background-color: transparent;\n    margin: 15px 0;\n  }\n`;\n\nconst StyledCol = styled.div`\n  width: 100%;\n  height: 100%;\n  font-size: 14px;\n  font-weight: 400;\n  color: #e2e2e2;\n  @media (max-width: 768px) {\n    margin-bottom: 16px;\n  }\n  .item {\n    display: flex;\n  }\n  .title {\n    margin-right: 10px;\n    font-weight: bold;\n  }\n  .value {\n    ul {\n      margin: 0;\n    }\n  }\n`;\n\nexport const BoxList = styled.ul`\n  list-style: cirle;\n  padding-left: 18px;\n  margin: 0;\n`;\nexport const BoxListItem = styled.li`\n  margin-bottom: 5px;\n`;\nexport const BoxListItemLink = styled.a`\n  cursor: pointer;\n  border: none;\n  padding-left: 0px;\n  text-decoration: none;\n  color: #e2e2e2;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nexport const BoxItem = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 5px 0;\n`;\n\nconst StyledButtons = styled.div`\n  align-items: center;\n  padding: 0 15px 10px;\n`;\n\nconst StyledInputs = styled.div`\n  align-items: center;\n  padding: 0 15px 10px;\n  margin-top: 20px;\n`;\n\nconst StyledButton = styled.button`\n  width: 100%;\n  padding: 20px 20px !important;\n  margin-top: 15px;\n`;\n\nconst StyledSelectDateWrapper = styled.div`\n  padding: 0 15px 10px;\n  .date {\n    &:first-child {\n      margin-bottom: 20px;\n    }\n    flex: 1;\n    .helper {\n      font-size: 13px;\n      padding-left: 15px;\n      padding-top: 3px;\n    }\n  }\n`;\n\nexport default Monitor;\n"]},"metadata":{},"sourceType":"module"}